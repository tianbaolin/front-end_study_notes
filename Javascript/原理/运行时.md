## 运行时

### 1. 上下文

* 全局执行上下文
* 函数执行上下文
* 每个执行环境都有一个表示变量的对象=>变量对象
* 变量对象=>活动对象

### 2. 变量对象

变量对象(缩写为VO)是一个与执行上下文相关的特殊对象，它存储着在上下文中声明的以下内容：

- 变量 (var, 变量声明);
- 函数声明 (FunctionDeclaration, 缩写为FD);
- 函数的形参

全局上下文中的变量对象

* 全局上下文中的变量对象就是全局对象，所以我们声明的变量都是全局对象的属性。

函数上下文中的变量对象

* 函数上下文中的变量对象由活动对象(AO)扮演。

###3. 调用栈

* 栈内存 与 堆内存
* 入栈与出栈
* 栈帧 = 上下文
* 栈溢出
* fun.caller 可以跟踪堆栈信息

### 4. 作用域

* 全局作用域

* 函数作用域

* 作用域链

  作用域链本质上是一个指向变量对象的指针列表，它只引用但不实际包含变量对象

### 5. 消息队列

* 宏任务
* 微任务